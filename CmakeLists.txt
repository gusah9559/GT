cmake_minimum_required(VERSION 3.20)

project(study VERSION 1.0 LANGUAGES CXX)
set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -Wall -Wextra")

################# GTEST ######################
## FetchContent
include(FetchContent)

FetchContent_Declare(
  googletest
  GIT_REPOSITORY https://github.com/google/googletest.git
  GIT_TAG        release-1.12.1  
)
FetchContent_MakeAvailable(googletest)
##############################################

## Version
set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED true)

## CPP CHECK
find_program(CPPCHECKTOOL cppcheck)
if (CPPCHECKTOOL)
   set(CMAKE_CXX_CPPCHECK "${CPPCHECKTOOL}" "--enable=all" "--suppress=missingIncludeSystem" "--output-file=cppcheck.txt")
else()
    message("CPP_CHECK TOOL NOT FOUND")
endif()

## Sub Directory manage
add_subdirectory(Algo)
add_subdirectory(windows)

## Executable
add_executable(study main.cpp)
## Link libraries
target_link_libraries(study PUBLIC AlgoLib windows)
